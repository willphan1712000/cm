/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./js/createFile.js":
/*!**************************!*\
  !*** ./js/createFile.js ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createFile: () => (/* binding */ createFile)\n/* harmony export */ });\nfunction createFile() {\n    $(document).ready(function(){\n        const $notification = $(\".notification\");\n        $(\".newFile .accept\").on(\"click\",() => {\n            var file = $(\".newFile input\").val();\n            if(file === '') {\n                $notification.addClass(\"push\");\n                $notification.html('<i style=\"color: orange\" class=\"fa-solid fa-circle-exclamation\"></i><p>Please enter a file name or a folder path including the file</p><i class=\"fa-solid fa-xmark\"></i>');\n                $(\".notification i\").eq(1).on(\"click\",()=>{\n                    $notification.removeClass(\"push\");\n                })\n            } else {\n                $.ajax({\n                    url: \"data/createFile.php\",\n                    method: \"POST\",\n                    data: {\n                        product: product,\n                        file: file\n                    },\n                    fileType: \"html\",\n                    success: function(e){\n                        $notification.addClass(\"push\");\n                        if(e !== \"\") {\n                            $notification.html('<i style=\"color: orange\" class=\"fa-solid fa-circle-exclamation\"></i><p>'+e+'</p><i class=\"fa-solid fa-xmark\"></i>');\n                            $(\".notification i\").eq(1).on(\"click\",()=>{\n                                $notification.removeClass(\"push\");\n                            })\n                        } else {\n                            $notification.html('<i style=\"color: green\" class=\"fa-solid fa-circle-check\"></i><p>The file has been created successfully. The page will refresh.</p><i class=\"fa-solid fa-xmark\"></i>');\n                            setInterval(()=>{\n                                location.reload();\n                            }, 1500);\n                        }\n                    },\n                    error: function(){\n                        $notification.addClass(\"push\");\n                        $notification.html('<i style=\"color: red\" class=\"fa-solid fa-ban\"></i><p>There is a problem for connection to the server</p><i class=\"fa-solid fa-xmark\"></i>');\n                        $(\".notification i\").eq(1).on(\"click\",()=>{\n                            $notification.removeClass(\"push\");\n                        })\n                    }\n                })\n            }\n        })\n    \n        $(\".createBtn\").click(function(e) {\n            $(\".newFile\").css(\"display\", \"flex\");\n            $(this).hide();\n        })\n        $(\".newFile .cancel\").click(function(e) {\n            $(\".createBtn\").show();\n            $(this).parent().hide();\n        })\n    })\n}\n\n\n\n//# sourceURL=webpack://htdocs/./js/createFile.js?");

/***/ }),

/***/ "./js/delete.js":
/*!**********************!*\
  !*** ./js/delete.js ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   deleteFunction: () => (/* binding */ deleteFunction)\n/* harmony export */ });\nfunction deleteFunction() {\n    $(document).ready(function(){\n        const $notification = $(\".notification\");\n        const $deleteBtn = $(\".file__list--ele .delete\");\n        $deleteBtn.on(\"click\", e => {\n            e.preventDefault;\n            if(confirm(\"Are you sure to delete this file or folder?\")) {\n                var path = $(e.currentTarget).find(\"input\").attr(\"name\");\n                $.ajax({\n                    url: \"data/deleteFolder.php\",\n                    method: \"POST\",\n                    data: {\n                        path: path\n                    },\n                    dataType: \"html\",\n                    success: function(e) {\n                        $notification.addClass(\"push\");\n                        $notification.html('<i class=\"fa-solid fa-info\"></i><p>'+e+'</p><i class=\"fa-solid fa-xmark\"></i>');\n                        $(\".notification i\").eq(1).on(\"click\",()=>{\n                            $notification.removeClass(\"push\");\n                        })\n                        setTimeout(() => {\n                            location.reload()\n                        }, 1500)\n                    },\n                    error: function() {\n                        console.log(path)\n                        $notification.addClass(\"push\");\n                        $notification.html('<i style=\"color: red\" class=\"fa-solid fa-ban\"></i><p>There is a problem with the connection to server</p><i class=\"fa-solid fa-xmark\"></i>');\n                        $(\".notification i\").eq(1).on(\"click\",()=>{\n                            $notification.removeClass(\"push\");\n                        })\n                    }\n                })\n            }\n        })\n    })\n}\n\n\n\n//# sourceURL=webpack://htdocs/./js/delete.js?");

/***/ }),

/***/ "./js/dist.js":
/*!********************!*\
  !*** ./js/dist.js ***!
  \********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   distribution: () => (/* binding */ distribution)\n/* harmony export */ });\nfunction distribution() {\n    const $notification = $(\".notification\");\n    $(document).ready(function() {\n        // Copy Distribution\n        var isChecked = false;\n        var option = document.querySelectorAll(\".dist__box--list .check\");\n        var selectSite = '<i style=\"color: orange\" class=\"fa-solid fa-circle-exclamation\"></i><p>Please select site(s)</p><i class=\"fa-solid fa-xmark\"></i>';\n        var serverError = '<i style=\"color: red\" class=\"fa-solid fa-ban\"></i><p>There is a problem connecting to the server</p><i class=\"fa-solid fa-xmark\"></i>';\n        $(\".dist .all\").on(\"click\", e => {\n            e.preventDefault();\n            if(isChecked === false) {\n                isChecked = true;\n             } else {\n                isChecked = false;\n             }\n             for (let i = 0; i < option.length; i++) {\n                option[i].checked = isChecked;\n             }\n        })\n        $(\".dist .commit\").on(\"click\", e => {\n            e.preventDefault();\n            let data = {};\n            for (let i = 0; i < option.length; i++) {\n                if(option[i].checked) {\n                    data[i] = option[i].value;\n                }\n            }\n             if(Object.keys(data).length === 0) {\n                $notification.addClass(\"push\");\n                $notification.html(selectSite);\n                $(\".notification i\").eq(1).on(\"click\",()=>{\n                    $notification.removeClass(\"push\");\n                })\n             } else {\n                 $.ajax({\n                    url: \"data/dist.php\",\n                    method: \"POST\",\n                    data: {\n                        product: product,\n                        data: JSON.stringify(data)\n                    },\n                    beforeSend: function() {\n                        $notification.addClass(\"push\");\n                        $notification.html('<div class=\"spinner\"></div><p>Distributing root files...<p>');\n                    },\n                    success: function(e) {\n                        if(e !== \"\") {\n                            $notification.empty();\n                            $notification.html('<i style=\"color: orange\" class=\"fa-solid fa-circle-exclamation\"></i><p>'+e+'</p><i class=\"fa-solid fa-xmark\"></i>');\n                        } else {\n                            $notification.empty();\n                            $notification.html('<i style=\"color: green\" class=\"fa-solid fa-circle-check\"></i><p>Copied.</p><i class=\"fa-solid fa-xmark\"></i>');\n                            setTimeout(()=>{\n                                location.reload()\n                            }, 1500);\n                        }\n                        $(\".notification i\").eq(1).on(\"click\",()=>{\n                            $notification.removeClass(\"push\");\n                        })\n                    },\n                    error: function() {\n                        $notification.empty();\n                        $notification.html(serverError);\n                        $(\".notification i\").eq(1).on(\"click\",()=>{\n                            $notification.removeClass(\"push\");\n                        })\n                    }\n                 })\n             }\n        })\n    \n        // Send notification\n        $(\".dist .send\").on(\"click\", ()=>{\n            let data = {};\n            let count = 0;\n            for (let i = 0; i < option.length; i++) {\n                if(option[i].checked) {\n                    data[i] = option[i].value;\n                    count++;\n                }\n            }\n            if(count === 0) {\n                $notification.addClass(\"push\");\n                $notification.html(selectSite);\n                $(\".notification i\").eq(1).on(\"click\",()=>{\n                    $notification.removeClass(\"push\");\n                })\n            } else {\n                $.ajax({\n                    url: \"data/notifySend.php\",\n                    method: \"POST\",\n                    data: {\n                        product: product,\n                        data: JSON.stringify(data)\n                    },\n                    dataType: \"html\",\n                    success: function(e) {\n                        $notification.addClass(\"push\");\n                        if(e !== \"\") {\n                            $notification.html('<i style=\"color: orange\" class=\"fa-solid fa-circle-exclamation\"></i><p>'+e+'</p><i class=\"fa-solid fa-xmark\"></i>');\n                        } else {\n                            $notification.html('<i style=\"color: green\" class=\"fa-solid fa-circle-check\"></i><p>Notification has been sent.</p><i class=\"fa-solid fa-xmark\"></i>');\n                        }\n                        $(\".notification i\").eq(1).on(\"click\",()=>{\n                            $notification.removeClass(\"push\");\n                        })\n                        setInterval(()=>{\n                            $notification.removeClass(\"push\");\n                        }, 1000);\n                    },\n                    error: function(){\n                        $notification.addClass(\"push\");\n                        $notification.html(serverError);\n                        $(\".notification i\").eq(1).on(\"click\",()=>{\n                            $notification.removeClass(\"push\");\n                        })\n                    }\n                })\n            }\n        })\n    \n        /// Database Distribution\n        $(\".dist .db\").on(\"click\", e =>{\n            e.preventDefault();\n            var query = $(\".dist .query\").val();\n            let data = {};\n            let count = 0;\n            $input = $(\".dist .query\");\n            var path = $input.val();\n            if(path === \"\") {\n                $input.css(\"border\", \"solid 2px red\");\n            } else {\n                $input.css(\"border\", \"solid 1px gray\");\n                for (let i = 0; i < option.length; i++) {\n                    if(option[i].checked) {\n                        data[i] = option[i].value;\n                        count++;\n                    }\n                }\n                if(count === 0) {\n                    $notification.addClass(\"push\");\n                    $notification.html(selectSite);\n                    $(\".notification i\").eq(1).on(\"click\",()=>{\n                        $notification.removeClass(\"push\");\n                    })\n                 } else {\n                     $.ajax({\n                         url: \"data/distdb.php\",\n                         method: \"POST\",\n                         data: {\n                            product: product,\n                            query: query,\n                            data: JSON.stringify(data)\n                             \n                         },\n                         dataType: \"html\",\n                         success: function(e) {\n                             $notification.addClass(\"push\");\n                             if(e !== \"\") {\n                                 $notification.html('<i style=\"color: red\" class=\"fa-solid fa-ban\"></i><p>'+e+'</p><i class=\"fa-solid fa-xmark\"></i>');\n                            } else {\n                                $notification.html('<i style=\"color: green\" class=\"fa-solid fa-circle-check\"></i><p>Query has been executed</p><i class=\"fa-solid fa-xmark\"></i>');\n                            }\n                            $(\".notification i\").eq(1).on(\"click\",()=>{\n                                $notification.removeClass(\"push\");\n                            })\n                         },\n                         error: function() {\n                             $notification.addClass(\"push\");\n                             $notification.html('<i style=\"color: red\" class=\"fa-solid fa-ban\"></i><p>query syntax error</p><i class=\"fa-solid fa-xmark\"></i>');\n                             $(\".notification i\").eq(1).on(\"click\",()=>{\n                                 $notification.removeClass(\"push\");\n                             })\n                         }\n                     })\n                 }\n            }\n        })\n    })\n}\n\n\n\n//# sourceURL=webpack://htdocs/./js/dist.js?");

/***/ }),

/***/ "./js/edit.js":
/*!********************!*\
  !*** ./js/edit.js ***!
  \********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   edit: () => (/* binding */ edit)\n/* harmony export */ });\nfunction edit() {\n    $(document).ready(function(){\n        const $notification = $(\".notification\");\n        $(\".file__list--ele .edit\").on(\"click\", e => {\n            e.preventDefault;\n            $(e.currentTarget).prev().toggle();\n            $(e.currentTarget).prev().focus();\n            $(e.currentTarget).prev().prev().toggle();\n            $(e.currentTarget).prev().val($(e.currentTarget).prev().prev().html())\n        })\n        $(\".file__list--ele .edit__box\").on(\"keyup\", function(e) {\n            if(!$(this).val()) {\n                $(e.currentTarget).next().show();\n                $(e.currentTarget).next().next().hide();\n            } else {\n                $(e.currentTarget).next().hide();\n                $(e.currentTarget).next().next().show();\n            }\n        })\n        $(\".file__list--ele .acceptEdit\").click(e => {\n            e.preventDefault();\n            var path = $(e.currentTarget).find(\"input\").attr(\"name\");\n            var change = $(e.currentTarget).prev().prev().val();\n            $.ajax({\n                url: \"data/edit.php\",\n                method: \"POST\",\n                data: {\n                    path: path,\n                    change: change\n                },\n                dataType: \"html\",\n                success: function(e) {\n                    if(e !== \"\") {\n                        $notification.addClass(\"push\");\n                        $notification.html('<i style=\"color: red\" class=\"fa-solid fa-ban\"></i><p>'+e+'</p><i class=\"fa-solid fa-xmark\"></i>');\n                        $(\".notification i\").eq(1).on(\"click\",()=>{\n                            $notification.removeClass(\"push\");\n                        })\n                    } else {\n                        location.reload();\n                    }\n                },\n                error: function() {\n                    $notification.addClass(\"push\");\n                    $notification.html('<i style=\"color: red\" class=\"fa-solid fa-ban\"></i><p>There is a problem connecting to the server</p><i class=\"fa-solid fa-xmark\"></i>');\n                    $(\".notification i\").eq(1).on(\"click\",()=>{\n                        $notification.removeClass(\"push\");\n                    })\n                }\n            })\n        })\n    })\n}\n\n\n\n//# sourceURL=webpack://htdocs/./js/edit.js?");

/***/ }),

/***/ "./js/effect.js":
/*!**********************!*\
  !*** ./js/effect.js ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   effect: () => (/* binding */ effect)\n/* harmony export */ });\nfunction effect() {\n    $(document).ready(function() {\n        // Toggle side navigation\n        $(\".side-nav--mobile .dropdownicon\").on(\"click\", ()=>{\n            $(\".side-nav--mobile .side-nav__btn\").slideToggle('fast');\n        })\n    })\n}\n\n\n\n//# sourceURL=webpack://htdocs/./js/effect.js?");

/***/ }),

/***/ "./js/main.js":
/*!********************!*\
  !*** ./js/main.js ***!
  \********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _createFile_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./createFile.js */ \"./js/createFile.js\");\n/* harmony import */ var _delete_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./delete.js */ \"./js/delete.js\");\n/* harmony import */ var _dist_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./dist.js */ \"./js/dist.js\");\n/* harmony import */ var _edit_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./edit.js */ \"./js/edit.js\");\n/* harmony import */ var _effect_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./effect.js */ \"./js/effect.js\");\n/* harmony import */ var _open_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./open.js */ \"./js/open.js\");\n/* harmony import */ var _search_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./search.js */ \"./js/search.js\");\n/* harmony import */ var _stats_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./stats.js */ \"./js/stats.js\");\n/* harmony import */ var _uploaddb_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./uploaddb.js */ \"./js/uploaddb.js\");\n\n\n\n\n\n\n\n\n\n\nswitch(type) {\n    case 'data':\n        (0,_effect_js__WEBPACK_IMPORTED_MODULE_4__.effect)()\n        ;(0,_stats_js__WEBPACK_IMPORTED_MODULE_7__.stats)()\n        ;(0,_search_js__WEBPACK_IMPORTED_MODULE_6__.search)()\n        break;\n    case 'vtv':\n        (0,_effect_js__WEBPACK_IMPORTED_MODULE_4__.effect)()\n        ;(0,_createFile_js__WEBPACK_IMPORTED_MODULE_0__.createFile)()\n        ;(0,_delete_js__WEBPACK_IMPORTED_MODULE_1__.deleteFunction)()\n        ;(0,_dist_js__WEBPACK_IMPORTED_MODULE_2__.distribution)()\n        ;(0,_edit_js__WEBPACK_IMPORTED_MODULE_3__.edit)()\n        ;(0,_open_js__WEBPACK_IMPORTED_MODULE_5__.open)()\n        ;(0,_uploaddb_js__WEBPACK_IMPORTED_MODULE_8__.uploaddb)()\n        break;\n    case 'htv':\n        (0,_effect_js__WEBPACK_IMPORTED_MODULE_4__.effect)()\n        ;(0,_createFile_js__WEBPACK_IMPORTED_MODULE_0__.createFile)()\n        ;(0,_delete_js__WEBPACK_IMPORTED_MODULE_1__.deleteFunction)()\n        ;(0,_dist_js__WEBPACK_IMPORTED_MODULE_2__.distribution)()\n        ;(0,_edit_js__WEBPACK_IMPORTED_MODULE_3__.edit)()\n        ;(0,_open_js__WEBPACK_IMPORTED_MODULE_5__.open)()\n        ;(0,_uploaddb_js__WEBPACK_IMPORTED_MODULE_8__.uploaddb)()\n        break;\n    case 'p':\n        (0,_effect_js__WEBPACK_IMPORTED_MODULE_4__.effect)()\n        ;(0,_createFile_js__WEBPACK_IMPORTED_MODULE_0__.createFile)()\n        ;(0,_delete_js__WEBPACK_IMPORTED_MODULE_1__.deleteFunction)()\n        ;(0,_dist_js__WEBPACK_IMPORTED_MODULE_2__.distribution)()\n        ;(0,_edit_js__WEBPACK_IMPORTED_MODULE_3__.edit)()\n        ;(0,_open_js__WEBPACK_IMPORTED_MODULE_5__.open)()\n        ;(0,_uploaddb_js__WEBPACK_IMPORTED_MODULE_8__.uploaddb)()\n        break;\n    default:\n        break;\n}\n\n\n//# sourceURL=webpack://htdocs/./js/main.js?");

/***/ }),

/***/ "./js/open.js":
/*!********************!*\
  !*** ./js/open.js ***!
  \********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   open: () => (/* binding */ open)\n/* harmony export */ });\nfunction open() {\n    $(document).ready(function() {\n        const $textarea = $(\"#textarea\");\n        const $notification = $(\".notification\");\n        const $commit = $(\"#form-textarea .commit\");\n    \n        $(\".file__list--ele .open\").on(\"click\", e => {\n            e.preventDefault();\n            $commit.prop(\"disabled\", true);\n            $commit.css({\"background-color\":\"gray\", \"cursor\":\"default\"});\n            const path = $(e.currentTarget).find(\"input\").attr(\"name\");\n            const name = $(e.currentTarget).siblings(\"p\").html();\n            $.ajax({\n                url: \"data/open.php\",\n                method: \"POST\",\n                data: {\n                    path: path\n                },\n                dataType: \"html\",\n                success: function(data) {\n                    $textarea.val(data);\n                    $(\"#form-textarea .name-open\").attr(\"name\", path);\n                    $(\"#form-textarea .name-open\").val(name);\n                }\n            })\n        })\n        $textarea.on(\"keyup\",()=>{\n            $commit.prop(\"disabled\", false);\n            $commit.css({\"background-color\":\"#000\", \"cursor\":\"pointer\"});\n            $commit.on(\"click\", e =>{\n                e.preventDefault();\n                $.ajax({\n                    url: \"data/commit.php\",\n                    method: \"POST\",\n                    data: {\n                        path: $(\"#form-textarea .name-open\").attr(\"name\"),\n                        content: $textarea.val()\n                    },\n                    success: function() {\n                        $notification.addClass(\"push\");\n                        $notification.html('<i style=\"color: green\" class=\"fa-solid fa-circle-check\"></i><p>The file content has been changed.</p><i class=\"fa-solid fa-xmark\"></i>');\n                        $(\".notification i\").eq(1).on(\"click\",()=>{\n                            $notification.removeClass(\"push\");\n                        })\n                        setInterval(()=>{\n                            $notification.removeClass(\"push\");\n                        }, 1500);\n                    },\n                    error: function(){\n                        $notification.addClass(\"push\");\n                        $notification.html('<i style=\"color: red\" class=\"fa-solid fa-ban\"></i><p>There is a problem connecting to the server</p><i class=\"fa-solid fa-xmark\"></i>');\n                        $(\".notification i\").eq(1).on(\"click\",()=>{\n                            $notification.removeClass(\"push\");\n                        })\n                    }\n                })\n            })\n        })\n    })\n}\n\n\n\n//# sourceURL=webpack://htdocs/./js/open.js?");

/***/ }),

/***/ "./js/search.js":
/*!**********************!*\
  !*** ./js/search.js ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   search: () => (/* binding */ search)\n/* harmony export */ });\nfunction search() {\n    // ================ Portfolio ======================\n    $(document).ready(function() {\n        function search(product) {\n            $.ajax({\n                url: \"data/search.php\",\n                method: \"POST\",\n                data: {\n                    searchReq: product\n                },\n                dataType: \"JSON\",\n                // beforeSend: function() {\n                //     $(\".search.\"+product+\" .search__result table\").html('<div class=\"spinner\"></div>');\n                //     $(\".search.\"+product+\" s.search__result table\").css(\"display\", \"flex\");\n                // },\n                success: function(list) {\n                    let display, name;\n                    switch(product) {\n                        case \"p\":\n                            name = \"Portfolio\"\n                            break\n                        case \"vtv\":\n                            name = \"VTV\"\n                            display = \"none\"\n                            break\n                        case \"htv\":\n                            name = \"HTV\"\n                            display = \"none\"\n                            break\n                        default:\n                            break\n                    }\n                    const $inputBox = $(\".search.\"+product+\" .search__box input\");\n                    const $resultBox = $(\".search.\"+product+\" .search__result table\");\n                    $resultBox.parent().find(\".spinner\").remove();\n                    $resultBox.show();\n                    $resultBox.css(\"display\",\"block\");\n                    $resultBox.html('<tr><th>#</th><th>'+name+'</th><th>Username</th><th>Password</th><th style=\"display:'+display+'\">Tech</th><th style=\"display:'+display+'\">Mobile Photos</th><th>TV Photos</th><th>AIC Admin</th><th>Subscription</th></tr>');\n                    for(let i=0;i<list.length;i++) {\n                        var sub;\n                        if(list[i].sub === null) {\n                            sub = \"Not subscribed\";\n                        } else {\n                            sub = dateType(list[i].sub);\n                        }\n                        $resultBox.append('<tr><th>'+list[i].order+'</th><th>'+list[i].name+'</th><th>'+list[i].username+'</th><th>'+list[i].password+'</th><th style=\"display:'+display+'\">'+list[i].tech+'</th><th style=\"display:'+display+'\">'+list[i].mobile+'</th><th>'+list[i].tv+'</th><th><a href = \"https://'+list[i].name+'/aicadmin\" target=\"_blank\">Admin</a></th><th><input id=\"'+product+'\" class=\"'+sub+'\" placeholder=\"MM/DD/YYYY\" name='+list[i].name+' type=\"text\" disabled value=\"'+sub+'\"><i class=\"fa-solid fa-pen sub-edit\"></i><div class=\"sub-edit__btn\"><i class=\"fa-solid fa-check sub-edit__btn--confirm\"></i></i><i class=\"fa-solid fa-ban sub-edit__btn--cancel\"></i></th></tr>');\n                    }\n                    subEdit(product)\n                    // SEARCH\n                    $inputBox.keyup(()=>{\n                        let type = $inputBox.val();\n                        let result = [];\n                        if(type) {\n                            result = list.filter(e => {\n                                return e.name.toLowerCase().startsWith(type.toLowerCase());\n                            })\n                            result = result.map(e => {\n                                var sub;\n                                if(e.sub === null) {\n                                    sub = \"Not subscribed\";\n                                } else {\n                                    sub = dateType(e.sub);\n                                }\n                                return e = '<tr><th>'+e.order+'</th><th>'+e.name+'</th><th>'+e.username+'</th><th>'+e.password+'</th><th>'+e.tech+'</th><th>'+e.mobile+'</th><th>'+e.tv+'</th><th><a href = \"https://'+e.name+'/aicadmin\" target=\"_blank\">Admin</a></th><th><input class=\"'+sub+'\" placeholder=\"MM/DD/YYYY\" name='+e.name+' type=\"text\" disabled value=\"'+sub+'\"><i class=\"fa-solid fa-pen sub-edit\"></i><div class=\"sub-edit__btn\"><i class=\"fa-solid fa-check sub-edit__btn--confirm\"></i></i><i class=\"fa-solid fa-ban sub-edit__btn--cancel\"></i></th></tr>';\n                            })\n                            $resultBox.html('<tr><th>#</th><th>Portfolio</th><th>Username</th><th>Password</th><th>Tech</th><th>Mobile Photos</th><th>TV Photos</th><th>AIC Admin</th><th>Subscription</th></tr>');\n                            $resultBox.append(result);\n                            subEdit(product)\n                        } else {\n                            search(product)\n                        }\n                    })\n                }\n            })\n        }\n        search(\"p\");\n        search(\"vtv\");\n        search(\"htv\");\n    \n    \n    \n    \n        function dateType(date) {\n            const splitDate = date.split(\"-\"); // YYYYMMDD\n            return splitDate[1] + \"/\" + splitDate[2] + \"/\" + splitDate[0]\n        }\n        function dateTypeReverse(date) {\n            const splitDate = date.split(\"/\"); // MMDDYYY\n            return splitDate[2] + \"-\" + splitDate[0] + \"-\" + splitDate[1]\n        }\n        function subEdit(product) {\n            // EDIT Subscription\n            $(\".search.\"+product+\" .sub-edit\").click(e => {\n                if($(e.currentTarget).prev().attr('disabled')) {\n                    $(e.currentTarget).prev().prop('disabled', false);\n                    $(e.currentTarget).prev().val(\"\");\n                } else {\n                    $(e.currentTarget).prev().prop('disabled', true);\n                    $(e.currentTarget).prev().val($(e.currentTarget).prev().attr(\"class\"));\n                }\n                $(e.currentTarget).next().slideToggle(\"fast\");\n            })\n            $(\".search.\"+product+\" .sub-edit__btn .sub-edit__btn--confirm\").click(e => {\n                let name = $(e.currentTarget).parent().prev().prev().attr(\"name\"), date = $(e.currentTarget).parent().prev().prev().val();\n                $.ajax({\n                    url: \"/data/subscription.php\",\n                    method: \"POST\",\n                    data: {\n                        req: product,\n                        name: name,\n                        date: dateTypeReverse(date)\n                    },\n                    success: function() {\n                        $(e.currentTarget).parent().prev().prev().removeAttr('class');\n                        $(e.currentTarget).parent().prev().prev().addClass(date);\n                        $(e.currentTarget).parent().prev().prev().val(date);\n                        $(e.currentTarget).parent(\".sub-edit__btn\").slideToggle(\"fast\");\n                        $(e.currentTarget).parent().prev().prev().prop('disabled', true);\n                    },\n                    error: function() {\n                        alert(\"Please type in a correct date format\");\n                    }\n                })\n            })\n            $(\".search.\"+product+\" .sub-edit__btn .sub-edit__btn--cancel\").click(e => {\n                let name = $(e.currentTarget).parent().prev().prev().attr(\"name\"), date = 'Not subscribed';\n                $.ajax({\n                    url: \"/data/subscription.php\",\n                    method: \"POST\",\n                    data: {\n                        req: product,\n                        name: name,\n                        date: date\n                    },\n                    success: function() {\n                        $(e.currentTarget).parent().prev().prev().removeAttr('class');\n                        $(e.currentTarget).parent().prev().prev().addClass(date);\n                        $(e.currentTarget).parent().prev().prev().val(date);\n                        $(e.currentTarget).parent(\".sub-edit__btn\").slideToggle(\"fast\");\n                        $(e.currentTarget).parent().prev().prev().prop('disabled', true);\n                    },\n                    error: function() {\n                        alert(\"Error when canceling subscription\");\n                    }\n                })\n            })\n        }\n    })\n}\n\n\n\n//# sourceURL=webpack://htdocs/./js/search.js?");

/***/ }),

/***/ "./js/stats.js":
/*!*********************!*\
  !*** ./js/stats.js ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   stats: () => (/* binding */ stats)\n/* harmony export */ });\nfunction stats() {\n    $(document).ready(function() {\n        const req = ['p', 'vtv', 'p_mimg', 'p_tvimg', 'vtv_tvimg', 'htv', 'htv_tvimg'];\n        const object = [$(\"#p .count .count__text p\"), $(\"#vtv .count .count__text p\"), $(\"#p .mimg-count .count__text p\"), $(\"#p .tvimg-count .count__text p\"), $(\"#vtv .tvimg-count .count__text p\"), $(\"#htv .count .count__text p\"), $(\"#htv .tvimg-count .count__text p\")];\n        for(let i = 0; i < req.length; i++) {\n            $.ajax({\n                url: \"/data/stats.php\",\n                method: \"POST\",\n                data: {\n                    request: req[i]\n                },\n                dataType: 'json',\n                success: function(e) {\n                    $(\".search__result\").css(\"display\", \"block\")\n                    object[i].prev().remove()\n                    object[i].html(e)\n                },\n                error: function() {\n                    object[i].prev().remove()\n                    object[i].html('<i class=\"fa-solid fa-ban\"></i> error')\n                }\n            })\n        }\n    })\n}\n\n\n\n//# sourceURL=webpack://htdocs/./js/stats.js?");

/***/ }),

/***/ "./js/uploaddb.js":
/*!************************!*\
  !*** ./js/uploaddb.js ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   uploaddb: () => (/* binding */ uploaddb)\n/* harmony export */ });\nfunction uploaddb() {\n    $(document).ready(function() {\n        var option = document.querySelectorAll(\".dist__box--list .check\");\n        var selectSite = '<div class=\"content\"><i style=\"color: orange\" class=\"fa-solid fa-circle-exclamation\"></i><p>Please select site(s)</p><i class=\"fa-solid fa-xmark\"></i></div>';\n        var serverError = '<div class=\"content\"><i style=\"color: red\" class=\"fa-solid fa-ban\"></i><p>There is a problem connecting to the server</p><i class=\"fa-solid fa-xmark\"></i></div>';\n        const $input = $('.btn .sql input[name=\"sql\"]');\n        const $import = $('.btn .sql button[name=\"import\"]');\n        var input = document.querySelector('.btn .sql input[name=\"sql\"]');\n        $('.btn .sql div').on(\"click\", ()=>{\n            $input.click();\n        })\n        var site = {}, queryArr = [];\n        $input.on(\"change\",() => {\n            let file = input.files[0];\n            let name = file.name;\n            let b = file.size, kb = Math.floor(file.size/1024), mb = Math.floor(file.size/(1024*1024));\n            let size;\n            if(mb > 0) {\n                size = mb + \" MB\";\n            } else if (kb > 0 && mb === 0) {\n                size = kb + \" KB\";\n            } else {\n                size = b + \" B\";\n            }\n            $('.btn .sql p').html(name + \"<br>\" + size);\n            if(name.split('.')[1] !== 'sql') {\n                $notification.addClass(\"push\");\n                $notification.html('<i style=\"color: red\" class=\"fa-solid fa-ban\"></i><p>Invaild file, it must be sql</p><i class=\"fa-solid fa-xmark\"></i>');\n                $(\".notification i\").eq(1).on(\"click\",()=>{\n                    $notification.removeClass(\"push\");\n                })\n                $import.css({\n                    \"pointer-events\": \"none\",\n                    \"background-color\": \"#ccc\"\n                })\n            } else {\n                $notification.removeClass(\"push\");\n                $import.css({\n                    \"pointer-events\": \"all\",\n                    \"background-color\": \"#000\"\n                })\n                const reader = new FileReader();\n                reader.readAsText(file);\n                queryArr = [];\n                reader.onload = function() {\n                    var sqlArr = reader.result.split('\\n');\n                    for (let i = 0; i < sqlArr.length; i++) {\n                        let firstTwo = sqlArr[i].split(' ').join('').substr(0, 2)\n                        if(firstTwo !== '--' && firstTwo !== '/*' && firstTwo !== '//' && firstTwo !== '') {\n                            queryArr.push(sqlArr[i]);                    \n                        }\n                    }\n                }\n            }\n        })\n        $import.on(\"click\", e => {\n            e.preventDefault();\n            for(const key in site) {\n                delete site[key]\n            }\n            for (let i = 0; i < option.length; i++) {\n                if(option[i].checked) {\n                    site[i] = option[i].value;\n                }\n            }\n            if(Object.keys(site).length === 0) {\n                $notification.addClass(\"push\");\n                $notification.html(selectSite);\n                $(\".notification i\").eq(1).on(\"click\",()=>{\n                    $notification.removeClass(\"push\");\n                })\n            } else {\n                if(confirm(\"The process will be comparing the uploaded database to the existing database. If there is any changes, it will be applied. Are you sure to proceed?\") === true) {\n                $notification.html('<div class=\"progress\"><div id=\"progressBar\"><span></span></div><label for=\"progressBar\"></label></div>')\n                $bar = $(\".notification #progressBar span\");\n                $label = $(\".notification label\");\n                    $.ajax({\n                        url: \"data/defaultdb.php\",\n                        method: \"POST\",\n                        data: {\n                            product: product,\n                            site: JSON.stringify(site),\n                            queryArr: JSON.stringify(queryBreakDown(queryArr)),\n                            db: JSON.stringify(databaseBreakDown(queryArr))\n                        },\n                        dataType: \"json\",\n                        xhr: function() {\n                            $notification.addClass(\"push\");\n                            var xhr = new window.XMLHttpRequest()\n                            // xhr.onprogress = function(e) {\n                            //     // For downloads\n                            //     if(e.lengthComputable) {\n                            //         $bar.css(\"width\", `${(e.loaded/e.total)*100}%`)\n                            //     }    \n                            // }\n                            xhr.upload.onprogress = function(e) {\n                                // For uploads\n                                if(e.lengthComputable) {\n                                    $label.html('Uploading database...')\n                                    $bar.css(\"width\", `${(e.loaded/e.total)*30}%`)\n                                }\n                            }\n                            return xhr;\n                        }\n                    }).done(function(e) {\n                        $notification.css(\"flex-direction\", \"column\")\n                        $label.html('Applying database...')\n                        $bar.css(\"width\", '70%')\n                        setTimeout(()=>{\n                            $bar.css(\"width\", '100%')\n                            $label.html('<i style=\"color: green\" class=\"fa-solid fa-circle-check\"></i>')\n                            $notification.append('<div class=\"content\"><p>Database changed: '+e[0]+', Database unchanged: '+e[1]+'</p><i class=\"fa-solid fa-xmark close\"></i></div>');\n                            $(\".notification .close\").on(\"click\",()=>{\n                                $notification.removeClass(\"push\");\n                            })\n                        },1500)\n                    }).fail(function() {\n                        $notification.addClass(\"push\");\n                        $notification.html(serverError);\n                        $(\".notification i\").eq(1).on(\"click\",()=>{\n                            $notification.removeClass(\"push\");\n                        })\n                    })\n                }\n            }\n        })\n    \n        function databaseBreakDown(queryArr) {\n            let result = {}; string = '', array = [];\n            for(let i = 0; i < queryArr.length; i++) {\n                last = queryArr[i].substr(-1,1)\n                if(last !== \";\") {\n                    string += queryArr[i];\n                } else {\n                    string += queryArr[i];\n                    array.push(string)\n                    string = '';\n                }\n            }\n            array.forEach(e => {\n                if(e.search(/CREATE TABLE `/) === 0) {\n                    let ele = e.split('`')\n                    result[ele[1]] = []\n                    for(let i = 3; i < ele.length; i+=2) {\n                        result[ele[1]].push(ele[i])\n                    }\n                }\n            })\n            return result;\n        }\n        function queryBreakDown(queryArr) {\n            let result = {}\n            let j = -1, table = [];\n            let array = []\n            for(let i = 0; i < queryArr.length; i++) {\n                if(queryArr[i].includes(\"CREATE TABLE \")) {\n                    array = [];\n                    table.push(queryArr[i])\n                    j++\n                } else {\n                    if(queryArr[i] !== \"COMMIT;\") {\n                        array.push(queryArr[i])\n                        result[table[j]] = array\n                    }\n                }\n            }\n            return result;\n        }\n    })\n}\n\n\n\n//# sourceURL=webpack://htdocs/./js/uploaddb.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./js/main.js");
/******/ 	
/******/ })()
;